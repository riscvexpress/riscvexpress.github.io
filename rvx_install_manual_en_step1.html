<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>RISC-V eXpress Install Manual - Step 1 -</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      border: none;
      border-top: 1px solid #1a1a1a;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
  </style>
</head>
<body>
<header id="title-block-header">
<h1 class="title">RISC-V eXpress Install Manual<br />
- Step 1 -</h1>
</header>
<h1 id="overview">Overview</h1>
<p>Install the environments for Git, make, python3, and Java.<br />
These are commonly used programs,<br />
so any installation method is acceptable as long as the [Objective] is
met.</p>
<h1 id="git-program">Git Program</h1>
<h2 id="objective">Objective</h2>
<div class="tcolorbox">
<pre><code>Install and verify Git version 1.8.2 or later.</code></pre>
</div>
<h2 id="check">Check</h2>
<div class="tcolorbox">
<pre><code>cmd) git --version</code></pre>
</div>
<ol>
<li><p>git 1.7.10 이상을 설치하고 확인한다.</p></li>
<li><p>git <span>-</span><span>-</span>version</p></li>
<li><ol>
<li><p>sudo yum install git</p></li>
<li><p>버전 확인을 해서 맞지 않으면 각자 알아서 설치한다.</p></li>
</ol>
<p>or</p></li>
<li><ol>
<li><p>sudo apt-get install git</p></li>
<li><p>버전 확인을 해서 맞지 않으면 각자 알아서 설치한다.</p></li>
</ol>
<p>or</p></li>
<li><p><a href="https://git-scm.com/download/win"><span
class="uri">https://git-scm.com/download/win</span></a></p></li>
<li><p>Section <a href="#sec:git-repository" data-reference-type="ref"
data-reference="sec:git-repository">3.2</a>에 따라 repository를
받으면<br />
최신 메뉴얼이 ${RVX_MINI_HOME}/rvx_install 에 있다.</p></li>
</ol>
<h2 id="python-3">Python 3</h2>
<ol>
<li><p>python 3.8에서 3.10 사이를 설치하고 확인한다.</p></li>
<li><p>python3 <span>-</span><span>-</span>version or python
<span>-</span><span>-</span>version</p></li>
<li><p>사용자 환경에 따라 명령어가 python3 또는 python</p>
<h3 id="linux">Linux</h3></li>
<li><ol>
<li><p>sudo yum install python3</p></li>
<li><p>설치가 안 되거나 버전 확인을 해서 맞지 않으면 [방법 Linux] 또는
각자 알아서 설치한다.</p></li>
</ol>
<p>or</p></li>
<li><ol>
<li><p>sudo apt-get install python3</p></li>
<li><p>설치가 안 되거나 버전 확인을 해서 맞지 않으면 [방법 Linux] 또는
각자 알아서 설치한다.</p></li>
</ol>
<p>or</p></li>
<li><ol>
<li><p>sudo yum install gcc zlib zlib-devel openssl
openssl-devel</p></li>
<li><p>wget
https://www.python.org/ftp/python/3.8.16/Python-3.8.16.tar.xz</p></li>
<li><p>tar xvf Python-3.8.16.tar.xz</p></li>
<li><p>cd Python-3.8.16; ./configure; make; sudo make install</p></li>
</ol>
<h3 id="windows">Windows</h3></li>
<li><ol>
<li><p>Microsoft Store에서 python3를 검색하여 3.8 버전을 설치한다.</p>
<ul>
<li><p>가능하다면 이 방법을 더 추천한다.</p></li>
<li><p>3.7에서 3.9 사이이면 다 괜찮다.</p></li>
</ul></li>
</ol>
<p>or</p></li>
<li><ol>
<li><p><a href="https://www.python.org"><span
class="uri">https://www.python.org</span></a>에서 3.9.12 버전을 다운받아
설치한다.</p></li>
<li><p>3.7에서 3.9 사이이면 다 괜찮지만 Windows installer 가 있는
버전으로 해야한다.</p></li>
<li><p>설치할 때 반드시 [Add Python 3.x to PATH]를 활성화한다.</p></li>
<li><p>만약 실수로 하지 않았다면, Path 환경변수에 두 디렉토리를 직접
추가한다.</p>
<ul>
<li><p>C:\Users\kshan\AppData\Local\Programs\Python\Python3x</p></li>
<li><p>C:\Users\kshan\AppData\Local\Programs\Python\Python3x\Scripts</p></li>
</ul></li>
</ol></li>
</ol>
<h2 id="make">Make</h2>
<ol>
<li><p>Makefile이 동작하는 환경을 만든다.</p></li>
<li><p>기본적으로 지원하기 때문에 별도로 설치할 필요가 없다.</p></li>
<li><ol>
<li><p><a href="http://gnuwin32.sourceforge.net/packages/make.htm"><span
class="uri">http://gnuwin32.sourceforge.net/packages/make.htm</span></a>
에서<br />
Complete package를 받아 설치한다.</p></li>
<li><p>Path 환경변수에 설치된 디렉토리를 추가한다.</p>
<ul>
<li><p>C:\Program Files (x86)\GnuWin32\bin</p></li>
</ul></li>
</ol></li>
</ol>
<h1 id="설치-2단계">설치 2단계</h1>
<h2 id="목표">목표</h2>
<p>RVX git repository를 설치하고 RVX를 위한 python3 환경을
설정한다.<br />
python3가 올바로 설치되고 설정되었는지 확인하고<br />
여러 버전의 python3를 가지고 있을 경우 충돌을 해결한다.</p>
<h2 id="sec:git-repository">Git Repository</h2>
<ul>
<li><ol>
<li><p>설치하고 싶은 디렉토리의 상위 디렉토리로 이동한다.</p></li>
<li><p>git clone <span>-</span><span>-</span>recursive #(git 주소)</p>
<ul>
<li><p>생성된 디렉토리를 부른다.</p></li>
<li><p>실제 변수 설정은 Section <a href="#sec:install"
data-reference-type="ref" data-reference="sec:install">3.5</a>에서
이루어진다.</p></li>
</ul></li>
</ol>
<p>or</p>
<ol>
<li><p>git clone #(git 주소)</p>
<ul>
<li><p>생성된 디렉토리를 부른다.</p></li>
<li><p>실제 변수 설정은 Section <a href="#sec:install"
data-reference-type="ref" data-reference="sec:install">3.5</a>에서
이루어진다.</p></li>
</ul></li>
<li><p>생성된 디렉토리로 이동한다.</p></li>
<li><p>git submodule init</p></li>
<li><p>git submodule update</p></li>
</ol></li>
</ul>
<h2 id="rvx를-위한-python-3-설정">RVX를 위한 python 3 설정</h2>
<ol>
<li><p>RVX에서 사용할 python3 명령어를 설정하고 확인한다.</p></li>
<li><p>make check_python</p></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make config_python</p>
<ul>
<li><p>rvx_python_config.mh 이 생성됨을 확인</p></li>
</ul></li>
<li><p>rvx_python_config.mh을 텍스트 편집기로 열어 확인하고 필요한 경우
수정한다.</p>
<ul>
<li><p>경로가 하나도 없다면 python이 설치되지 않았거나 PATH 설정에
문제가 있는 것이다.</p></li>
<li><p>경로가 2개 이상이라면 사용할 1개만 남기고 지운다.</p></li>
</ul></li>
</ol></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make config_python</p>
<ul>
<li><p>rvx_python_config.mh 이 생성됨을 확인 (수정하지 않음)</p></li>
<li><p>python3.bat 이 생성됨을 확인</p></li>
</ul></li>
<li><p>python3.bat을 텍스트 편집기로 열어 확인하고 필요한 경우
수정한다.</p>
<ul>
<li><p>경로가 하나도 없다면 python이 설치되지 않았거나 PATH 설정에
문제가 있는 것이다.</p></li>
<li><p>경로가 2개 이상이라면 사용할 1개만 남기고 지운다.</p>
<ul>
<li><p><span style="color: red"><u>맨마지막에 있는 "%*" 는 지우면 안
된다.</u></span></p></li>
</ul></li>
<li><p>디렉토리 이름에 빈칸이 있다면 아래와 같이 따옴표 처리 한다.</p>
<ul>
<li><p>C:\Users\"Kyuseung Han"\... %*</p></li>
</ul></li>
</ul></li>
</ol></li>
</ol>
<h2 id="rvx를-위한-pip-3-설치-및-설정">RVX를 위한 pip 3 설치 및
설정</h2>
<ol>
<li><p>RVX에서 사용할 python package를 설치하고 확인한다.</p></li>
<li><p>make check_pip</p></li>
<li><ol>
<li><p>make pip</p></li>
</ol>
<p>* 문제가 생겼거나 손상이 생긴 경우</p>
<ol>
<li><p>make fix_pip</p></li>
<li><p>make pip</p></li>
</ol></li>
</ol>
<h2 id="sec:install">Install</h2>
<ul>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make install</p>
<ul>
<li><p>./rvx_setup.sh 파일 생성 확인</p></li>
</ul></li>
<li><p>.bashrc에 "source #(RVX_MINI_HOME)/rvx_setup.sh"를 추가한다.</p>
<ul>
<li><p># 부분은 반드시 절대 주소로 바꿔서 추가한다.</p></li>
</ul></li>
<li><p>.bashrc을 적용하기 위해 <span style="color: red"><u>명령창을 껐다
다시 켠다.</u></span></p></li>
</ol></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make install</p></li>
<li><p>PATH 환경변수에 대해</p>
<ul>
<li><p>성공적으로 업데이트 되었다는 INFO가 출력된 경우는 다음으로
넘어간다.</p></li>
<li><p>직접 추가하라고 WARNING이 출력된 경우는<br />
"${RVX_MINI_HOME}\windows_binary"를 직접 추가한다.</p></li>
</ul></li>
<li><p> 환경변수가 새로 추가되었으니 <span
style="color: red"><u>명령창을 껐다 다시 켠다.</u></span></p></li>
</ol></li>
</ul>
<h1 id="설치-3단계">설치 3단계</h1>
<h2 id="olimex-driver-설치-windows-only">Olimex Driver 설치 (Windows
Only)</h2>
<ul>
<li><ol>
<li><p>Olimex ARM-USB-TINY-H 케이블을 컴퓨터에 연결한다.</p></li>
<li><p>zadig 프로그램을 실행한다.</p>
<ul>
<li><p>${RVX_MINI_HOME}\windows_binary 에 있는 zadig-2.5.exe를
실행한다.</p></li>
</ul>
<p>or</p>
<ul>
<li><p><a href="https://zadig.akeo.ie"><span
class="uri">https://zadig.akeo.ie</span></a>에서 다운받아
실행한다.</p></li>
</ul></li>
<li><p>[Olimex OpenOCD JTAG ARM-USB-TINY-H (Interface 0)] 룰
선택하고<br />
[Install Driver]를 누른다.</p></li>
<li><p>[Olimex OpenOCD JTAG ARM-USB-TINY-H (Interface 1)] 룰
선택하고<br />
[Install Driver]를 누른다.</p></li>
</ol></li>
</ul>
<h2 id="telnet-설치-windows-only">Telnet 설치 (Windows Only)</h2>
<ul>
<li><ol>
<li><p>[제어판] 실행</p>
<ul>
<li><p>control 검색</p></li>
</ul></li>
<li><p>[프로그램] 클릭</p></li>
<li><p>[Windows 기능 켜기/끄기] 클릭</p></li>
<li><p>[텔넷 클라이어트] 체크 활성화</p></li>
<li><p>확인</p></li>
</ol></li>
</ul>
<h2 id="java-gui를-사용할-경우">Java (GUI를 사용할 경우)</h2>
<ol>
<li><p>OpenJDK를 설치하고 확인한다.</p></li>
<li><p>java <span>-</span>version</p></li>
<li><p>yum 또는 apt 으로 각자 검색해서 설치한다. 버전은 크게 상관
없다.</p></li>
<li><ol>
<li><p><a href="https://openjdk.java.net/"><span
class="uri">https://openjdk.java.net/</span></a>에서 다운받는다. 버전은
크게 상관 없다.</p></li>
<li><p>압축을 풀고 생성되는 디렉토리를 설치하고자 하는 위치로
이동시킨다.</p></li>
<li><p>설치한 디렉토리의 하위 디렉토리인 bin을 PATH 변수에
추가한다.</p></li>
</ol></li>
</ol>
<h1 id="설치-4단계-라이센스-프로그램">설치 4단계 (라이센스
프로그램)</h1>
<ol>
<li><p>Xilinx Vivado 2021.2이상의 버전을 설치하고 설치경로를 PATH 변수에
추가한다.</p>
<ul>
<li><p>Windows에서는 자동으로 추가될 수도 있다.</p></li>
</ul></li>
<li><p>ModelSim 또는 NCsim 을 설치하고 설치경로를 PATH 변수에
추가한다.</p>
<ul>
<li><p>Windows에서는 자동으로 추가될 수도 있다.</p></li>
</ul></li>
</ol>
<h1 id="동기화">동기화</h1>
<ul>
<li><p>RVX 서버에서 구동환경을 가져오는 작업이다.</p>
<ul>
<li><p>Git을 처음 받았을 때는 반드시 한번 실행해야한다.</p></li>
<li><p>이후에는 update 과정에서 자동으로 실행된다.</p></li>
<li><p>동기화가 끝나면 최신 버전의 메뉴얼들이 ${RVX_MINI_HOME}/manual에
생긴다.</p></li>
</ul></li>
<li><p>동기화 과정 중에 RVX 서버의 계정정보를 입력하게 된다.</p>
<ul>
<li><p>계정정보는 미리 알고 있어야한다.</p></li>
<li><p>${RVX_MINI_HOME}/.rvx_server_config에 저장된다.</p></li>
<li><p>RVX 계정정보를 변경하고 싶은 경우 해당 파일을 삭제한다.</p></li>
</ul></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make sync</p>
<ul>
<li><p>SSH 접속 여부는 no로 대답한다.</p></li>
</ul></li>
</ol></li>
</ul>
<h1 id="계정-초기화-및-동기화">계정 초기화 및 동기화</h1>
<ul>
<li><p>sync 과정에서 문제가 생길 때 실행한다.</p></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>make resync</p></li>
</ol></li>
</ul>
<h1 id="설정파일">설정파일</h1>
<ul>
<li><p>설정에 문제가 있을 경우 아래 파일목록 중 관련된 파일 삭제하고
진행한다.</p>
<ul>
<li><p>${RVX_MINI_HOME}/.rvx_path_config</p></li>
<li><p>${RVX_MINI_HOME}/.rvx_sudo_config</p></li>
<li><p>${RVX_MINI_HOME}/.rvx_tool_config</p></li>
<li><p>${RVX_MINI_HOME}/.rvx_server_config</p></li>
</ul></li>
<li><p>${RVX_MINI_HOME}/.rvx_key를 삭제한 경우, 위에 모든 파일을
삭제한다.</p></li>
</ul>
<h1 id="install-이후">Install 이후</h1>
<h2 id="install-확인">Install 확인</h2>
<ul>
<li><p>make check</p>
<ul>
<li><p>도중에 에러가 나면 안 된다 !!!</p></li>
</ul></li>
</ul>
<h2 id="user-manual">User Manual</h2>
<ul>
<li><p>${RVX_MINI_HOME}/manual에 있다.</p></li>
</ul>
<h2 id="자동-update">자동 Update</h2>
<ul>
<li><p>사용 중에 Update하라는 메시지가 뜨면 진행한다.</p></li>
<li><ol>
<li><p>작업한 내용이 있다면 platform 디렉토리를 다른 곳으로
백업한다.</p></li>
<li><p>이동한다.</p></li>
</ol></li>
<li><ol>
<li><p>./update.sh</p>
<ul>
<li><p>update.sh 파일이 없으면 make config</p></li>
</ul></li>
<li><p>./rvx_setup.sh 파일이 새로 생겼으므로 <span
style="color: red"><u>명령어창을 새로 켜서 작업한다.</u></span></p></li>
</ol></li>
<li><ol>
<li><p>update.bat</p>
<ul>
<li><p>update.bat 파일이 없으면 make config</p></li>
</ul></li>
<li><p>환경변수가 업데이트 되었으므로 <span
style="color: red"><u>명령어창을 새로 켜서 작업한다.</u></span></p></li>
<li><p><span style="color: red"><u>플랫폼을 clean을 하고 syn부터 다시
작업한다.</u></span></p></li>
</ol></li>
</ul>
<h2 id="수동-update">수동 Update</h2>
<ul>
<li><p>관리자의 요청에 의해 진행한다.</p></li>
<li><ol>
<li><p>이동한다.</p></li>
<li><p>작업한 내용이 있다면 platform 디렉토리를 다른 곳으로
백업한다.</p></li>
<li><p>git checkout .</p></li>
<li><p>git pull origin master</p></li>
<li><p>git submodule init</p></li>
<li><p>git submodule update</p></li>
<li><p>make reconfig_python</p></li>
<li><p>make pip3</p></li>
<li><p>make config</p></li>
<li><p><span style="color: red"><u>명령어창을 새로 켜서
작업한다.</u></span></p></li>
<li><p>make sync</p></li>
<li><p><span style="color: red"><u>플랫폼을 clean을 하고 syn부터 다시
작업한다.</u></span></p></li>
</ol></li>
</ul>
</body>
</html>
